!function o(n,s,l){function u(e,t){if(!s[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(g)return g(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var a=s[e]={exports:{}};n[e][0].call(a.exports,function(t){return u(n[e][1][t]||t)},a,a.exports,o,n,s,l)}return s[e].exports}for(var g="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,t,e){var i=!1;function r(t){console.log("jsonData",t);var e=drupalSettings.path,i=""+e.baseUrl+e.pathPrefix+"grid_update",r="grid_items="+JSON.stringify(t);console.log("JSON.stringify(jsonData)",JSON.stringify(t)),n.ajax({url:i,type:"POST",dataType:"json",data:r,success:function(t){}})}function a(t){var e=t.gridItems,a=t.jsonFieldData,o=t.uniqueKey;console.log("items",e),console.log("jsonFieldData",a),console.log("uniqueKey",o),console.log(void 0===e?"undefined":d(e)),e.forEach(function(t){var e=t.dataset,i={x:e.gsX,y:e.gsY,width:e.gsWidth,height:e.gsHeight,delta:e.delta};0===a.length||e.delta===a.length?a.items[o].push(i):(a.items[o][e.delta]={},a.items[o][e.delta].x=e.gsX,a.items[o][e.delta].y=e.gsY,a.items[o][e.delta].width=e.gsWidth,a.items[o][e.delta].height=e.gsHeight);var r=e.gsHeight;r="Height: "+50*r+"px",n(t).find(".height-counter").text(r)}),r(a)}t.behaviors.gridstackField={attach:function(t,e){var i={};void 0!==e.gridStack&&(i=e.gridStack.settings,(i=Object.values(i)).forEach(function(t){n(".grid-stack[fid = "+t.field_id+"]").gridstack(t)}))}};var o=document.querySelectorAll(".grid-stack"),s={};if(o.length){var l=o.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable");i||(l.length&&(l.each(function(t){var e={x:n(t).data("gs-x"),y:n(t).data("gs-y"),width:n(t).data("gs-width"),height:n(t).data("gs-height"),delta:n(t).data("delta")};s.items.push(e)}),r(s)),i=!0)}s.items={},s.settings={};var u=document.querySelectorAll(".field--widget-paragraphs-gridstack-widget"),g=new MutationObserver(function(t){t.forEach(function(t){var e=t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),i=t.target.querySelectorAll(".form-item-grid")[0].getAttribute("fid");s.items[i]={},a({gridItems:e,jsonFieldData:s,uniqueKey:i}),e.forEach(function(t){})})}),c={attributes:!0,childList:!0,characterData:!0};u.forEach(function(t){var i=t.querySelectorAll(".form-item-grid")[0].getAttribute("fid"),e=t.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable");s.items[i]=[],g.observe(t,c),e.length&&e.forEach(function(t){console.log("ADD CUSTOM HEIGHT ITEM",t);var e=n(t).data("gs-height");e="Height: "+50*e+"px",n(t).prependTo('<div class="height-counter">'+e+"</div>")}),t.onchange=function(t){var e=t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable");a({gridItems:e,jsonFieldData:s,uniqueKey:i}),e.forEach(function(t){})}})}(jQuery,Drupal,drupalSettings)},{}]},{},[1]);
//# sourceMappingURL=map/widget.min.js.map

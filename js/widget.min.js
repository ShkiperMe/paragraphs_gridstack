!function s(d,n,o){function h(e,t){if(!n[e]){if(!d[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(c)return c(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var r=n[e]={exports:{}};d[e][0].call(r.exports,function(t){return h(d[e][1][t]||t)},r,r.exports,s,d,n,o)}return n[e].exports}for(var c="function"==typeof require&&require,t=0;t<o.length;t++)h(o[t]);return h}({1:[function(t,e,i){"use strict";!function(n,t,e){var r=!1;function o(t){console.log("jsonData",t);var e=drupalSettings.path,i=""+e.baseUrl+e.pathPrefix+"grid_update",a="grid_items="+JSON.stringify(t);n.ajax({url:i,type:"POST",dataType:"json",data:a,success:function(t){}})}t.behaviors.gridstackField={attach:function(t,e){var i=n(".grid-stack"),a={};Array.prototype.forEach.call(i,function(t){}),n(".grid-stack").gridstack({cellHeight:50,verticalMargin:0,width:12}),void 0!==e.gridStack&&(a=e.gridStack.settings,(a=Object.values(a)).forEach(function(t){n("div[fid = "+t.field_id+"]").gridstack(t)}));var s=n(".grid-stack").find(".grid-stack-item.ui-draggable.ui-resizable"),d={items:[]};d.settings=a,r||(s.length&&(s.each(function(t,e){var i={x:n(e).data("gs-x"),y:n(e).data("gs-y"),width:n(e).data("gs-width"),height:n(e).data("gs-height"),delta:n(e).data("delta")};d.items.push(i)}),console.log("KUUUUUUUUUUUUURWA WARMING"),o(d)),r=!0),n(".field--widget-paragraphs-gridstack-widget").once("save-item").each(function(){var r=n(this).find(".form-item-grid").attr("fid");d.items[r]=[],console.log("KEY",r),s.each(function(t,e){var i=n(e).data("gs-height");i="Height: "+50*i+"px",n(e).prependTo('<div class="height-counter">'+i+"</div>")}),n(this).on("change.grid",function(t,a){null!=a&&(n(a).each(function(t){var e={x:this.x,y:this.y,width:this.width,height:this.height,delta:this.el[0].dataset.delta};0===d.length||a[t].el[0].dataset.delta===d.length?d.items.push(e):(console.log("jsonFieldData",d),d.items[r][this.el[0].dataset.delta]={},d.items[r][this.el[0].dataset.delta].x=this.x,d.items[r][this.el[0].dataset.delta].y=this.y,d.items[r][this.el[0].dataset.delta].width=this.width,d.items[r][this.el[0].dataset.delta].height=this.height);var i=this.height;i="Height: "+50*i+"px",n(a[t].el[0]).find(".height-counter").text(i)}),o(d))})})}}}(jQuery,Drupal,drupalSettings);var a=document.querySelectorAll(".field--widget-paragraphs-gridstack-widget"),r=new MutationObserver(function(t){t.forEach(function(t){t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable").forEach(function(t){console.log(t.dataset)})})}),s={attributes:!0,childList:!0,characterData:!0};a.forEach(function(t){r.observe(t,s)});var d=document.querySelectorAll(".field--widget-paragraphs-gridstack-widget");console.log(d)},{}]},{},[1]);
//# sourceMappingURL=map/widget.min.js.map

!function s(n,g,d){function c(e,t){if(!g[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(o)return o(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var a=g[e]={exports:{}};n[e][0].call(a.exports,function(t){return c(n[e][1][t]||t)},a,a.exports,s,n,g,d)}return g[e].exports}for(var o="function"==typeof require&&require,t=0;t<d.length;t++)c(d[t]);return c}({1:[function(t,e,i){"use strict";!function(c,t,o){function r(t){var e=t.gridItems,g=t.jsonFieldData,d=t.uniqueKey;e.forEach(function(t){var e=t.dataset,i={x:e.gsX,y:e.gsY,width:e.gsWidth,height:e.gsHeight,delta:e.delta};0===g.length||e.delta===g.length?g.items[d].push(i):(g.items[d][e.delta]={},g.items[d][e.delta].x=e.gsX,g.items[d][e.delta].y=e.gsY,g.items[d][e.delta].width=e.gsWidth,g.items[d][e.delta].height=e.gsHeight);var r=e.gsHeight,a=c(t).find(".height-counter"),s=o.gridStack.settings[d].cell_height,n=o.gridStack.settings[d].verticalMargin;r="Height: "+(parseInt(r*s)+parseInt(n*(r-1)))+"px",a.text(r)}),g.settings[d]=o.gridStack.settings[d],function(t){var e=drupalSettings.path,i=""+e.baseUrl+e.pathPrefix+"grid_update",r="grid_items="+JSON.stringify(t);c.ajax({url:i,type:"POST",dataType:"json",data:r,success:function(t){}}),c("#edit-field-paragraphs-gridstack-json-wrapper textarea").val(JSON.stringify(t))}(g)}t.behaviors.gridstackField={attach:function(t,e){var r={};void 0!==e.gridStack&&(r=e.gridStack.settings,(r=Object.values(r)).forEach(function(t){var e=c(".grid-stack[fid = "+t.field_id+"]");e.gridstack(t),"undefined"===t.width||e.hasClass("width-"+t.width)||e.addClass("width-"+t.width)})),c("#grid-settings").length?c(".form-item-grid").hide():c(".form-item-grid").show(),c(t).hasClass("grid-settings-replacement")&&c(".field--widget-paragraphs-gridstack-widget").trigger("change"),document.querySelectorAll(".field--widget-paragraphs-gridstack-widget").forEach(function(t,i){var e=t.querySelectorAll(".grid-stack-item");e.length&&e.forEach(function(t){if(!c(t).find(".height-counter").length){var e=c(t).data("gs-height");e="Height: "+(parseInt(e*r[i].cell_height)+parseInt(r[i].verticalMargin*(e-1)))+"px",c(t).find(".grid-stack-item-content").prepend('<div class="height-counter">'+e+"</div>")}})})}},c(document).ready(function(){var t=c("#edit-field-paragraphs-gridstack-json-wrapper textarea").val();if(t.length){t=JSON.parse(t);var i=Object.keys(t.settings);Object.values(t.settings).forEach(function(t,e){c(".grid-stack[fid = "+i[e]+"]").gridstack(t)}),void 0===o.gridStack&&(o.gridStack=t)}});var a={items:{},settings:{}},e=document.querySelectorAll(".field--widget-paragraphs-gridstack-widget"),i=new MutationObserver(function(t,e){t.forEach(function(t){if(!t.target.querySelector(".confirm-remove")&&"childList"===t.type&&t.target.querySelectorAll(".form-item-grid").length){var e=t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),i=t.target.querySelectorAll(".form-item-grid")[0].getAttribute("fid");a.items[i]={},r({gridItems:e,jsonFieldData:a,uniqueKey:i})}})}),s={attributes:!1,childList:!0,characterData:!1,subtree:!0};e.forEach(function(t){var e=t.querySelectorAll(".form-item-grid")[0].getAttribute("fid");t.querySelectorAll(".grid-stack-item");a.items[e]=[],i.observe(t,s),t.onchange=function(t){c(t.target).is(".form-select, .form-text, .form-file, .form-textarea, .form-jquery_colorpicker, .form-checkbox, .form-radio")||r({gridItems:t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),jsonFieldData:a,uniqueKey:e})}})}(jQuery,Drupal,drupalSettings)},{}]},{},[1]);
//# sourceMappingURL=map/widget.min.js.map

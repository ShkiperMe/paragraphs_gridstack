!function n(s,d,g){function o(e,t){if(!d[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var a=d[e]={exports:{}};s[e][0].call(a.exports,function(t){return o(s[e][1][t]||t)},a,a.exports,n,s,d,g)}return d[e].exports}for(var u="function"==typeof require&&require,t=0;t<g.length;t++)o(g[t]);return o}({1:[function(t,e,i){"use strict";!function(g,t,o){function r(t){var e,i,r,a,n=t.gridItems,s=t.jsonFieldData,d=t.uniqueKey;n.forEach(function(t){var e=t.dataset,i={x:e.gsX,y:e.gsY,width:e.gsWidth,height:e.gsHeight,delta:e.delta};0===s.length||e.delta===s.length?s.items[d].push(i):(s.items[d][e.delta]={},s.items[d][e.delta].x=e.gsX,s.items[d][e.delta].y=e.gsY,s.items[d][e.delta].width=e.gsWidth,s.items[d][e.delta].height=e.gsHeight);var r=e.gsHeight;r="Height: "+50*r+"px",g(t).find(".height-counter").text(r)}),s.settings[d]=o.gridStack.settings[d],e=s,i=drupalSettings.path,r=""+i.baseUrl+i.pathPrefix+"grid_update",a="grid_items="+JSON.stringify(e),g.ajax({url:r,type:"POST",dataType:"json",data:a,success:function(t){}}),g("#edit-field-json-wrapper textarea").val(JSON.stringify(e))}t.behaviors.gridstackField={attach:function(t,e){var i={};void 0!==e.gridStack&&(i=e.gridStack.settings,(i=Object.values(i)).forEach(function(t){g(".grid-stack[fid = "+t.field_id+"]").gridstack(t)}))}},g(document).ready(function(){var t=g("#edit-field-json-wrapper textarea").val();if(t.length){t=JSON.parse(t);var i=Object.keys(t.settings);Object.values(t.settings).forEach(function(t,e){g(".grid-stack[fid = "+i[e]+"]").gridstack(t)})}});var e=document.querySelectorAll(".grid-stack"),a={};e.length,a.items={},a.settings={};var i=document.querySelectorAll(".field--widget-paragraphs-gridstack-widget"),n=new MutationObserver(function(t){t.forEach(function(t){var e=t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),i=t.target.querySelectorAll(".form-item-grid")[0].getAttribute("fid");a.items[i]={},r({gridItems:e,jsonFieldData:a,uniqueKey:i}),e.forEach(function(t){})})}),s={attributes:!0,childList:!0,characterData:!0};i.forEach(function(t){var i=t.querySelectorAll(".form-item-grid")[0].getAttribute("fid"),e=t.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable");a.items[i]=[],n.observe(t,s),e.length&&e.forEach(function(t){console.log("ADD CUSTOM HEIGHT ITEM",t);var e=g(t).data("gs-height");e="Height: "+50*e+"px",g(t).prependTo('<div class="height-counter">'+e+"</div>")}),t.onchange=function(t){var e=t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable");r({gridItems:e,jsonFieldData:a,uniqueKey:i}),e.forEach(function(t){})}})}(jQuery,Drupal,drupalSettings)},{}]},{},[1]);
//# sourceMappingURL=map/widget.min.js.map

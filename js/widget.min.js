!function s(d,g,n){function o(e,t){if(!g[e]){if(!d[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var a=g[e]={exports:{}};d[e][0].call(a.exports,function(t){return o(d[e][1][t]||t)},a,a.exports,s,d,g,n)}return g[e].exports}for(var c="function"==typeof require&&require,t=0;t<n.length;t++)o(n[t]);return o}({1:[function(t,e,r){"use strict";!function(n,t,o){function i(t){var e,r,i,a,s=t.gridItems,d=t.jsonFieldData,g=t.uniqueKey;s.forEach(function(t){var e=t.dataset,r={x:e.gsX,y:e.gsY,width:e.gsWidth,height:e.gsHeight,delta:e.delta};0===d.length||e.delta===d.length?d.items[g].push(r):(d.items[g][e.delta]={},d.items[g][e.delta].x=e.gsX,d.items[g][e.delta].y=e.gsY,d.items[g][e.delta].width=e.gsWidth,d.items[g][e.delta].height=e.gsHeight);var i=e.gsHeight;i="Height: "+50*i+"px",n(t).find(".height-counter").text(i)}),d.settings[g]=o.gridStack.settings[g],e=d,r=drupalSettings.path,i=""+r.baseUrl+r.pathPrefix+"grid_update",a="grid_items="+JSON.stringify(e),n.ajax({url:i,type:"POST",dataType:"json",data:a,success:function(t){}}),n("#edit-field-paragraphs-gridstack-json-wrapper textarea").val(JSON.stringify(e))}t.behaviors.gridstackField={attach:function(t,e){var r={};void 0!==e.gridStack&&(r=e.gridStack.settings,(r=Object.values(r)).forEach(function(t){var e=n(".grid-stack[fid = "+t.field_id+"]");e.gridstack(t),e.removeClass("width-"),e.removeClass("width-"+t.width).addClass("width-"+t.width)})),n("#grid-settings").length?n(".form-item-grid").hide():n(".form-item-grid").show(),n(t).hasClass("grid-settings-replacement")&&n(".field--widget-paragraphs-gridstack-widget").trigger("change"),document.querySelectorAll(".field--widget-paragraphs-gridstack-widget").forEach(function(t){var e=t.querySelectorAll(".grid-stack-item");e.length&&e.forEach(function(t){if(!n(t).find(".height-counter").length){var e=n(t).data("gs-height");e="Height: "+50*e+"px",n(t).find(".grid-stack-item-content").prepend('<div class="height-counter">'+e+"</div>")}})})}},n(document).ready(function(){var t=n("#edit-field-paragraphs-gridstack-json-wrapper textarea").val();if(t.length){t=JSON.parse(t);var r=Object.keys(t.settings);Object.values(t.settings).forEach(function(t,e){n(".grid-stack[fid = "+r[e]+"]").gridstack(t)}),void 0===o.gridStack&&(o.gridStack=t)}});var e=document.querySelectorAll(".grid-stack"),a={};e.length,a.items={},a.settings={};var r=document.querySelectorAll(".field--widget-paragraphs-gridstack-widget"),s=new MutationObserver(function(t,e){t.forEach(function(t){if(!t.target.querySelector(".confirm-remove")&&"childList"===t.type&&t.target.querySelectorAll(".form-item-grid").length){var e=t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),r=t.target.querySelectorAll(".form-item-grid")[0].getAttribute("fid");a.items[r]={},i({gridItems:e,jsonFieldData:a,uniqueKey:r})}})}),d={attributes:!1,childList:!0,characterData:!1,subtree:!0};r.forEach(function(t){var e=t.querySelectorAll(".form-item-grid")[0].getAttribute("fid");t.querySelectorAll(".grid-stack-item");a.items[e]=[],s.observe(t,d),t.onchange=function(t){n(t.target).is(".form-select, .form-text, .form-file, .form-textarea, .form-jquery_colorpicker, .form-checkbox, .form-radio")||i({gridItems:t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),jsonFieldData:a,uniqueKey:e})}})}(jQuery,Drupal,drupalSettings)},{}]},{},[1]);
//# sourceMappingURL=map/widget.min.js.map

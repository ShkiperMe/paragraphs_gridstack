!function s(d,g,n){function c(e,t){if(!g[e]){if(!d[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(o)return o(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var a=g[e]={exports:{}};d[e][0].call(a.exports,function(t){return c(d[e][1][t]||t)},a,a.exports,s,d,g,n)}return g[e].exports}for(var o="function"==typeof require&&require,t=0;t<n.length;t++)c(n[t]);return c}({1:[function(t,e,i){"use strict";!function(n,t,c){function r(t){var e,i,r,a,s=t.gridItems,d=t.jsonFieldData,g=t.uniqueKey;s.forEach(function(t){var e=t.dataset,i={x:e.gsX,y:e.gsY,width:e.gsWidth,height:e.gsHeight,delta:e.delta};0===d.length||e.delta===d.length?d.items[g].push(i):(d.items[g][e.delta]={},d.items[g][e.delta].x=e.gsX,d.items[g][e.delta].y=e.gsY,d.items[g][e.delta].width=e.gsWidth,d.items[g][e.delta].height=e.gsHeight);var r=e.gsHeight;r="Height: "+50*r+"px",n(t).find(".height-counter").text(r)}),d.settings[g]=c.gridStack.settings[g],e=d,i=drupalSettings.path,r=""+i.baseUrl+i.pathPrefix+"grid_update",a="grid_items="+JSON.stringify(e),n.ajax({url:r,type:"POST",dataType:"json",data:a,success:function(t){}}),n("#edit-field-paragraphs-gridstack-json-wrapper textarea").val(JSON.stringify(e))}t.behaviors.gridstackField={attach:function(t,e){var i={};void 0!==e.gridStack&&(i=e.gridStack.settings,(i=Object.values(i)).forEach(function(t){var e=n(".grid-stack[fid = "+t.field_id+"]");e.gridstack(t),"undefined"===t.width||e.hasClass("width-"+t.width)||e.addClass("width-"+t.width)})),n("#grid-settings").length?n(".form-item-grid").hide():n(".form-item-grid").show(),n(t).hasClass("grid-settings-replacement")&&n(".field--widget-paragraphs-gridstack-widget").trigger("change"),document.querySelectorAll(".field--widget-paragraphs-gridstack-widget").forEach(function(t){var e=t.querySelectorAll(".grid-stack-item");e.length&&e.forEach(function(t){if(!n(t).find(".height-counter").length){var e=n(t).data("gs-height");e="Height: "+50*e+"px",n(t).find(".grid-stack-item-content").prepend('<div class="height-counter">'+e+"</div>")}})})}},n(document).ready(function(){var t=n("#edit-field-paragraphs-gridstack-json-wrapper textarea").val();if(t.length){t=JSON.parse(t);var i=Object.keys(t.settings);Object.values(t.settings).forEach(function(t,e){n(".grid-stack[fid = "+i[e]+"]").gridstack(t)}),void 0===c.gridStack&&(c.gridStack=t)}});var a={items:{},settings:{}},e=document.querySelectorAll(".field--widget-paragraphs-gridstack-widget"),i=new MutationObserver(function(t,e){t.forEach(function(t){if(!t.target.querySelector(".confirm-remove")&&"childList"===t.type&&t.target.querySelectorAll(".form-item-grid").length){var e=t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),i=t.target.querySelectorAll(".form-item-grid")[0].getAttribute("fid");a.items[i]={},r({gridItems:e,jsonFieldData:a,uniqueKey:i})}})}),s={attributes:!1,childList:!0,characterData:!1,subtree:!0};e.forEach(function(t){var e=t.querySelectorAll(".form-item-grid")[0].getAttribute("fid");t.querySelectorAll(".grid-stack-item");a.items[e]=[],i.observe(t,s),t.onchange=function(t){n(t.target).is(".form-select, .form-text, .form-file, .form-textarea, .form-jquery_colorpicker, .form-checkbox, .form-radio")||r({gridItems:t.target.querySelectorAll(".grid-stack-item.ui-draggable.ui-resizable"),jsonFieldData:a,uniqueKey:e})}})}(jQuery,Drupal,drupalSettings)},{}]},{},[1]);
//# sourceMappingURL=map/widget.min.js.map
